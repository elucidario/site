import{r as s,j as e,c as a,H as r,m as v,M as T,i as S,a as j,o as w}from"../chunks/chunk-OuAtwBcA.js";/* empty css                      */import{A as b,F as P,a as E,H as z}from"../chunks/chunk-BEOXZ4fU.js";import"../chunks/chunk-Dk7-vTfA.js";/* empty css                      */function A({ctaID:l,schema:n,submitLabel:d,includeListIds:c,templateId:p,redirectionUrl:m,addValuesToParams:u,additionalParams:f}){const[i,o]=s.useState("idle"),h=t=>{o("loading");const g=`${m}${u?`?${new URLSearchParams({...t,...f})}`:""}`,x={method:"POST",url:"https://api.brevo.com/v3/contacts/doubleOptinConfirmation",headers:{accept:"application/json","Content-Type":"application/json","api-key":void 0},data:{attributes:{NOME:t.name,JOB_TITLE:t.role,ORGANIZATION:t.organization},email:t.email,includeListIds:c,templateId:p,redirectionUrl:g}};E.request(x).then(()=>{o("success")}).catch(y=>{console.error("Newsletter Error",{error:y}),o("error")})};return s.useEffect(()=>{if(["success","error"].includes(i)){const t=setTimeout(()=>{o("idle")},5e3);return()=>{clearTimeout(t)}}},[i]),e.jsx("section",{id:l,className:a("bg-primary-light","dark:bg-primary-dark","lg:py-64","px-4","flex","flex-col","items-center","justify-center","border-b-4","border-light","dark:border-dark","h-screen","z-10"),children:e.jsxs("div",{className:a("border-4","border-dark","dark:border-light","bg-light","dark:bg-dark","text-dark","dark:text-light","rounded-xl","max-w-4/5","lg:max-w-3/5","p-8","w-full","min-h-96","flex","flex-col","lg:flex-row","gap-10","shadow-2xl","shadow-secondary-light","dark:shadow-secondary-dark"),children:[e.jsx("div",{className:a("w-full","lg:w-2/5","flex","flex-col","gap-4","justify-center"),children:e.jsx(b,{children:(()=>{switch(i){case"idle":return e.jsxs(v.div,{exit:{opacity:0},children:[e.jsx(r,{level:3,className:a("font-mono"),children:"Que tal indicar um amigo?"}),e.jsx("p",{className:a("text-lg"),children:"Compartilhe o link e ajude a divulgar o elucidario.art!"})]});case"loading":return e.jsx(r,{level:3,className:a("font-mono"),exit:{opacity:0},children:"Enviando..."});case"success":return e.jsx(r,{level:3,className:a("font-mono"),exit:{opacity:0},children:"Confira seu e-mail para confirmar o cadastro."});case"error":return e.jsx(r,{level:3,className:a("font-mono"),exit:{opacity:0},children:"Houve um erro ao enviar o formulário."})}})()})}),e.jsx("div",{className:a("w-full","lg:w-3/5","flex","flex-col","gap-4","overflow-auto"),children:e.jsx(P,{schema:n,submitLabel:d,onValid:h,disabled:["loading","error"].includes(i)})})]})})}function U(){const l=s.useMemo(()=>({type:"object",properties:{name:{type:"string",title:"Nome"},email:{type:"string",title:"Email",format:"email"},friends:{type:"array",title:"Amigos",items:{type:"object",properties:{name:{type:"string",title:"Nome"},email:{type:"string",title:"Email",format:"email"}},required:["name","email"],additionalProperties:!1}},message:{type:"string",title:"Mensagem"}},required:["name","email"],additionalProperties:!1}),[]);return e.jsxs(T,{children:[e.jsx(z,{}),e.jsx(r,{level:1,className:a("font-mono","text-center","mx-4","relative","mb-10"),children:"Agradecemos a sua inscrição!"}),e.jsx(A,{ctaID:"cta-newsletter",schema:l,submitLabel:"Enviar",includeListIds:[7],templateId:3,redirectionUrl:"https://elucidario.art/inscricao-confirmada",addValuesToParams:!0})]})}const k=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),O={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:w}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:j}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/inscricao-confirmada/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:k}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},title:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"elucidario.art | Sistema de Gestão de Coleções"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"pt-BR"}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:S}}};export{O as configValuesSerialized};
